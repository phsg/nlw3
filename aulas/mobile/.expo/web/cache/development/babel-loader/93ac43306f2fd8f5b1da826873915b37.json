{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\phsg5\\\\Documents\\\\GitHub\\\\nlw3\\\\aulas\\\\mobile\\\\src\\\\pages\\\\CreateOrphanages\\\\OrphanageData.tsx\";\nimport React, { useState } from 'react';\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { Feather } from '@expo/vector-icons';\nimport { RectButton } from 'react-native-gesture-handler';\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport * as ImagePicker from 'expo-image-picker';\nimport api from \"../../services/api\";\nexport default function OrphanageData() {\n  var _this = this;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      about = _useState4[0],\n      setAbout = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      instruction = _useState6[0],\n      setInstruction = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      opening_hours = _useState8[0],\n      setOpeningHours = _useState8[1];\n\n  var _useState9 = useState(true),\n      _useState10 = _slicedToArray(_useState9, 2),\n      open_on_weekends = _useState10[0],\n      setOpenOnWeekends = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      images = _useState12[0],\n      setImages = _useState12[1];\n\n  var navigation = useNavigation();\n  var route = useRoute();\n  var params = route.params;\n\n  function handleCreateOrphanage() {\n    var _params$position, latitude, longitude, data;\n\n    return _regeneratorRuntime.async(function handleCreateOrphanage$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _params$position = params.position, latitude = _params$position.latitude, longitude = _params$position.longitude;\n            data = new FormData();\n            data.append('name', name);\n            data.append('about', about);\n            data.append('latitude', String(latitude));\n            data.append('longitude', String(longitude));\n            data.append('name', name);\n            data.append('instruction', instruction);\n            data.append('opening_hours', opening_hours);\n            data.append('open_on_weekends', String(open_on_weekends));\n            images.forEach(function (image, index) {\n              data.append('images', {\n                name: \"image_\" + index + \".jpg\",\n                type: 'image/jpg',\n                uri: image\n              });\n            });\n            _context.next = 13;\n            return _regeneratorRuntime.awrap(api.post('orphanages', data));\n\n          case 13:\n            navigation.navigate('OrphanagesMap');\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function handleSelectImage() {\n    var _await$ImagePicker$re, status, result, image;\n\n    return _regeneratorRuntime.async(function handleSelectImage$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.requestCameraRollPermissionsAsync());\n\n          case 2:\n            _await$ImagePicker$re = _context2.sent;\n            status = _await$ImagePicker$re.status;\n\n            if (!(status != 'granted')) {\n              _context2.next = 7;\n              break;\n            }\n\n            alert('Precisamos da permiss√£o de acesso as duas fotos...');\n            return _context2.abrupt(\"return\");\n\n          case 7:\n            _context2.next = 9;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              allowsEditing: true,\n              quality: 1,\n              mediaTypes: ImagePicker.MediaTypeOptions.Images\n            }));\n\n          case 9:\n            result = _context2.sent;\n\n            if (!result.cancelled) {\n              _context2.next = 12;\n              break;\n            }\n\n            return _context2.abrupt(\"return\");\n\n          case 12:\n            image = result.uri;\n            setImages([].concat(_toConsumableArray(images), [image]));\n\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  return React.createElement(ScrollView, {\n    style: styles.container,\n    contentContainerStyle: {\n      padding: 24\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, \"Dados\"), React.createElement(Text, {\n    style: styles.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, \"Nome\"), React.createElement(TextInput, {\n    style: styles.input,\n    value: name,\n    onChangeText: setName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    style: styles.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, \"Sobre\"), React.createElement(TextInput, {\n    style: [styles.input, {\n      height: 110\n    }],\n    multiline: true,\n    value: about,\n    onChangeText: setAbout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    style: styles.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, \"Fotos\"), React.createElement(View, {\n    style: styles.uploadedImagesContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, images.map(function (image) {\n    return React.createElement(Image, {\n      key: image,\n      source: {\n        uri: image\n      },\n      style: styles.uploadedImage,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 25\n      }\n    });\n  }), \";\"), React.createElement(TouchableOpacity, {\n    style: styles.imagesInput,\n    onPress: handleSelectImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, React.createElement(Feather, {\n    name: \"plus\",\n    size: 24,\n    color: \"#15B6D6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  })), React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, \"Visita\\xE7\\xE3o\"), React.createElement(Text, {\n    style: styles.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, \"Instru\\xE7\\xF5es\"), React.createElement(TextInput, {\n    style: [styles.input, {\n      height: 110\n    }],\n    multiline: true,\n    value: instruction,\n    onChangeText: setInstruction,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    style: styles.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, \"Hor\\xE1rio de visitas\"), React.createElement(TextInput, {\n    style: styles.input,\n    value: opening_hours,\n    onChangeText: setOpeningHours,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }), React.createElement(View, {\n    style: styles.switchContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 17\n    }\n  }, \"Atende final de semana?\"), React.createElement(Switch, {\n    thumbColor: \"#fff\",\n    trackColor: {\n      false: '#ccc',\n      true: '#39CC83'\n    },\n    value: open_on_weekends,\n    onValueChange: setOpenOnWeekends,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  })), React.createElement(RectButton, {\n    style: styles.nextButton,\n    onPress: handleCreateOrphanage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.nextButtonText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 17\n    }\n  }, \"Cadastrar\")));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  title: {\n    color: '#5c8599',\n    fontSize: 24,\n    fontFamily: 'Nunito_700Bold',\n    marginBottom: 32,\n    paddingBottom: 24,\n    borderBottomWidth: 0.8,\n    borderBottomColor: '#D3E2E6'\n  },\n  label: {\n    color: '#8fa7b3',\n    fontFamily: 'Nunito_600SemiBold',\n    marginBottom: 8\n  },\n  comment: {\n    fontSize: 11,\n    color: '#8fa7b3'\n  },\n  input: {\n    backgroundColor: '#fff',\n    borderWidth: 1.4,\n    borderColor: '#d3e2e6',\n    borderRadius: 20,\n    height: 56,\n    paddingVertical: 18,\n    paddingHorizontal: 24,\n    marginBottom: 16,\n    textAlignVertical: 'top'\n  },\n  uploadedImagesContainer: {\n    flexDirection: 'row'\n  },\n  uploadedImage: {\n    width: 64,\n    height: 64,\n    borderRadius: 20,\n    marginBottom: 32,\n    marginRight: 8\n  },\n  imagesInput: {\n    backgroundColor: 'rgba(255, 255, 255, 0.5)',\n    borderStyle: 'dashed',\n    borderColor: '#96D2F0',\n    borderWidth: 1.4,\n    borderRadius: 20,\n    height: 56,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 32\n  },\n  switchContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginTop: 16\n  },\n  nextButton: {\n    backgroundColor: '#15c3d6',\n    borderRadius: 20,\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: 56,\n    marginTop: 32\n  },\n  nextButtonText: {\n    fontFamily: 'Nunito_800ExtraBold',\n    fontSize: 16,\n    color: '#FFF'\n  }\n});","map":{"version":3,"sources":["C:/Users/phsg5/Documents/GitHub/nlw3/aulas/mobile/src/pages/CreateOrphanages/OrphanageData.tsx"],"names":["React","useState","Feather","RectButton","useNavigation","useRoute","ImagePicker","api","OrphanageData","name","setName","about","setAbout","instruction","setInstruction","opening_hours","setOpeningHours","open_on_weekends","setOpenOnWeekends","images","setImages","navigation","route","params","handleCreateOrphanage","position","latitude","longitude","data","FormData","append","String","forEach","image","index","type","uri","post","navigate","handleSelectImage","requestCameraRollPermissionsAsync","status","alert","launchImageLibraryAsync","allowsEditing","quality","mediaTypes","MediaTypeOptions","Images","result","cancelled","styles","container","padding","title","label","input","height","uploadedImagesContainer","map","uploadedImage","imagesInput","switchContainer","false","true","nextButton","nextButtonText","StyleSheet","create","flex","color","fontSize","fontFamily","marginBottom","paddingBottom","borderBottomWidth","borderBottomColor","comment","backgroundColor","borderWidth","borderColor","borderRadius","paddingVertical","paddingHorizontal","textAlignVertical","flexDirection","width","marginRight","borderStyle","justifyContent","alignItems","marginTop"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { ScrollView, View, StyleSheet, Switch, Text, TextInput, TouchableOpacity, Image } from 'react-native';\r\nimport { Feather } from '@expo/vector-icons';\r\nimport { RectButton } from 'react-native-gesture-handler';\r\nimport { useNavigation, useRoute } from '@react-navigation/native';\r\nimport * as ImagePicker from 'expo-image-picker';\r\nimport api from '../../services/api';\r\n\r\ninterface OrphanageDataRouteParams {\r\n    position: {\r\n        latitude: number;\r\n        longitude: number;\r\n    }\r\n}\r\n\r\nexport default function OrphanageData() {\r\n    const [name, setName] = useState('');\r\n    const [about, setAbout] = useState('');\r\n    const [instruction, setInstruction] = useState('');\r\n    const [opening_hours, setOpeningHours] = useState('');\r\n    const [open_on_weekends, setOpenOnWeekends] = useState(true);\r\n    const [images, setImages] = useState<string[]>([]);\r\n    // const [, set] = useState('');\r\n\r\n    const navigation = useNavigation();\r\n    const route = useRoute();\r\n    const params = route.params as OrphanageDataRouteParams;\r\n\r\n    async function handleCreateOrphanage() {\r\n        const { latitude, longitude } = params.position;\r\n        const data = new FormData();\r\n\r\n        data.append('name', name);\r\n        data.append('about', about);\r\n        data.append('latitude', String(latitude));\r\n        data.append('longitude', String(longitude));\r\n        data.append('name', name);\r\n        data.append('instruction', instruction);\r\n        data.append('opening_hours', opening_hours);\r\n        data.append('open_on_weekends', String(open_on_weekends));\r\n        // data.append('',);\r\n\r\n        images.forEach((image, index) => {\r\n            data.append('images', {\r\n                name: `image_${index}.jpg`,\r\n                type: 'image/jpg',\r\n                uri: image,\r\n            } as any)\r\n        })\r\n\r\n        await api.post('orphanages', data);\r\n\r\n        navigation.navigate('OrphanagesMap');\r\n    }\r\n\r\n    async function handleSelectImage() {\r\n        const { status } = await ImagePicker.requestCameraRollPermissionsAsync();\r\n\r\n        if (status != 'granted') {\r\n            alert('Precisamos da permiss√£o de acesso as duas fotos...');\r\n            return;\r\n        }\r\n\r\n        const result = await ImagePicker.launchImageLibraryAsync({\r\n            allowsEditing: true,\r\n            quality: 1,\r\n            mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n        });\r\n\r\n        if (result.cancelled) {\r\n            return;\r\n        }\r\n\r\n        const { uri: image } = result;\r\n\r\n        setImages([...images, image]);\r\n    }\r\n\r\n    return (\r\n        <ScrollView style={styles.container} contentContainerStyle={{ padding: 24 }}>\r\n            <Text style={styles.title}>Dados</Text>\r\n\r\n            <Text style={styles.label}>Nome</Text>\r\n            <TextInput\r\n                style={styles.input}\r\n                value={name}\r\n                onChangeText={setName}\r\n            />\r\n\r\n            <Text style={styles.label}>Sobre</Text>\r\n            <TextInput\r\n                style={[styles.input, { height: 110 }]}\r\n                multiline\r\n                value={about}\r\n                onChangeText={setAbout}\r\n            />\r\n\r\n            {/* <Text style={styles.label}>Whatsapp</Text>\r\n            <TextInput\r\n                style={styles.input}\r\n            /> */}\r\n\r\n            <Text style={styles.label}>Fotos</Text>\r\n\r\n            <View style={styles.uploadedImagesContainer}>\r\n                {images.map(image => {\r\n                    return (\r\n                        <Image\r\n                            key={image}\r\n                            source={{ uri: image }}\r\n                            style={styles.uploadedImage}\r\n                        />\r\n                    );\r\n                })};\r\n            </View>\r\n\r\n            <TouchableOpacity style={styles.imagesInput} onPress={handleSelectImage}>\r\n                <Feather name=\"plus\" size={24} color=\"#15B6D6\" />\r\n            </TouchableOpacity>\r\n\r\n            <Text style={styles.title}>Visita√ß√£o</Text>\r\n\r\n            <Text style={styles.label}>Instru√ß√µes</Text>\r\n            <TextInput\r\n                style={[styles.input, { height: 110 }]}\r\n                multiline\r\n                value={instruction}\r\n                onChangeText={setInstruction}\r\n            />\r\n\r\n            <Text style={styles.label}>Hor√°rio de visitas</Text>\r\n            <TextInput\r\n                style={styles.input}\r\n                value={opening_hours}\r\n                onChangeText={setOpeningHours}\r\n            />\r\n\r\n            <View style={styles.switchContainer}>\r\n                <Text style={styles.label}>Atende final de semana?</Text>\r\n                <Switch\r\n                    thumbColor=\"#fff\"\r\n                    trackColor={{ false: '#ccc', true: '#39CC83' }}\r\n                    value={open_on_weekends}\r\n                    onValueChange={setOpenOnWeekends}\r\n                />\r\n            </View>\r\n\r\n            <RectButton style={styles.nextButton} onPress={handleCreateOrphanage}>\r\n                <Text style={styles.nextButtonText}>Cadastrar</Text>\r\n            </RectButton>\r\n        </ScrollView>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n    },\r\n\r\n    title: {\r\n        color: '#5c8599',\r\n        fontSize: 24,\r\n        fontFamily: 'Nunito_700Bold',\r\n        marginBottom: 32,\r\n        paddingBottom: 24,\r\n        borderBottomWidth: 0.8,\r\n        borderBottomColor: '#D3E2E6'\r\n    },\r\n\r\n    label: {\r\n        color: '#8fa7b3',\r\n        fontFamily: 'Nunito_600SemiBold',\r\n        marginBottom: 8,\r\n    },\r\n\r\n    comment: {\r\n        fontSize: 11,\r\n        color: '#8fa7b3',\r\n    },\r\n\r\n    input: {\r\n        backgroundColor: '#fff',\r\n        borderWidth: 1.4,\r\n        borderColor: '#d3e2e6',\r\n        borderRadius: 20,\r\n        height: 56,\r\n        paddingVertical: 18,\r\n        paddingHorizontal: 24,\r\n        marginBottom: 16,\r\n        textAlignVertical: 'top',\r\n    },\r\n\r\n    uploadedImagesContainer: {\r\n        flexDirection: 'row'\r\n    },\r\n\r\n    uploadedImage: {\r\n        width: 64,\r\n        height: 64,\r\n        borderRadius: 20,\r\n        marginBottom: 32,\r\n        marginRight: 8,\r\n    },\r\n\r\n    imagesInput: {\r\n        backgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n        borderStyle: 'dashed',\r\n        borderColor: '#96D2F0',\r\n        borderWidth: 1.4,\r\n        borderRadius: 20,\r\n        height: 56,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        marginBottom: 32,\r\n    },\r\n\r\n    switchContainer: {\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        justifyContent: 'space-between',\r\n        marginTop: 16,\r\n    },\r\n\r\n    nextButton: {\r\n        backgroundColor: '#15c3d6',\r\n        borderRadius: 20,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        height: 56,\r\n        marginTop: 32,\r\n    },\r\n\r\n    nextButtonText: {\r\n        fontFamily: 'Nunito_800ExtraBold',\r\n        fontSize: 16,\r\n        color: '#FFF',\r\n    }\r\n})"]},"metadata":{},"sourceType":"module"}